{% extends 'base.html' %}

{% block navbar %}
<c-components.navbar backgroundcolor="red-800" />
{% endblock navbar %}

{% block content %}


<section>
    <div class="mt-20 flex justify-center px-4">
        <div
            class="mt-10 max-w-2xl p-8 text-center bg-red-800 rounded-lg shadow-lg transition-transform transform hover:scale-105">

            <h1 class="mb-6 text-4xl md:text-5xl font-bold text-white">Thank You!</h1>
            <div class="pt-4 mb-8 text-lg md:text-xl text-white">
                {{ page.thank_you_text|safe }}
            </div>
            <a href="/"
                class="relative inline-flex items-center justify-start px-3 py-2 overflow-hidden font-medium transition-all bg-black rounded hover:bg-orange-400 group">
                <span
                    class="w-48 h-48 rounded rotate-[-40deg] bg-orange-400 absolute bottom-0 left-0 -translate-x-full ease-out duration-500 transition-all translate-y-full mb-9 ml-9 group-hover:ml-0 group-hover:mb-32 group-hover:translate-x-0"></span>
                <span
                    class="relative w-full text-left text-white transition-colors duration-300 ease-in-out group-hover:text-black">Go
                    back to Home</span>
            </a>
        </div>
    </div>
</section>


<!-- Blogs Section -->
<div class="relative pt-10 overflow-hidden mb-10 pb-10">
    <div class="flex justify-between items-center">
        <h2 class="text-3xl lg:pl-[100px] md:pl-[50px] sm:pl-10 font-bold text-red-500">MORE BLOG</h2>
        <a href="/blogs" class="text-red-500 pr-[100px] font-semibold hover:underline">
            View all blogs →
        </a>
    </div>
    <div class="flex ml-0 md:ml-10 overflow-hidden" id="blog-container">
        {% for blog in blogs %}
        <c-components.blogs_card :blog="blog" />
        {% endfor %}
    </div>
</div>

<!-- News Section -->
<section class=" pb-10 overflow-hidden ">
    <div class="pb-16">

        <div class="flex justify-between items-center ">
            <h2 class="text-3xl pl-[50px] font-bold pb-4 text-red-500"> NEWS</h2>
            <a href="/announcements" class="text-red-500 pr-[50px] font-semibold hover:underline">
                View all news →
            </a>

        </div>


        <div class="hover:cursor-pointer px-4 lg:px-12">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-6">
                {% for news in list_of_news %}
                <a href="{{news.url}}">
                    <div
                        class="bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 transform hover:scale-105 group">
                        <!-- Top separator line -->
                        <hr class="border-t-2 border-gray-200 group-hover:border-t-2 group-hover:border-red-500">

                        <div class="p-4 space-y-3">
                            <!-- Date Section -->
                            <div class="text-xs font-semibold text-red-500">
                                {{news.news_publish_date}}
                            </div>

                            <!-- News Title Section -->
                            <div class="text-lg font-bold text-gray-800 leading-tight truncate">
                                {{news.news_title}}
                            </div>

                        </div>
                        <div
                            class="transition-transform duration-300 group-hover:translate-x-2 absolute top-1/2 right-4 transform -translate-y-1/2">
                            <!-- Default image arrow -->
                            <img src="/static/images/arrow.svg" alt="Arrow" class="w-6 h-6 group-hover:hidden" />

                            <!-- Hovered "→" symbol -->
                            <span
                                class="text-gray-800 group-hover:text-red-500 w-8 h-8 text-xl group-hover:block hidden">→</span>
                        </div>
                        <!-- Bottom separator line -->
                        <hr class="border-t-2 border-gray-200 group-hover:border-t-2 group-hover:border-red-500">
                    </div>
                </a>
                {% endfor %}
            </div>
        </div>
    </div>
</section>



{% endblock content %}


{% block extra_js %}
<script>

    document.addEventListener('DOMContentLoaded', function () {
        const blogContainer = document.getElementById('blog-container');
        const scrollLeftButton = document.getElementById('scroll-left');
        const scrollRightButton = document.getElementById('scroll-right');

        // Scroll left
        scrollLeftButton.addEventListener('click', () => {
            blogContainer.scrollBy({
                left: -525,
                behavior: 'smooth'
            });
        });

        // Scroll right
        scrollRightButton.addEventListener('click', () => {
            blogContainer.scrollBy({
                left: 525,
                behavior: 'smooth'
            });
        });
    });

    const h2Elements = document.querySelectorAll('h2');
    const tocLinksContainer = document.getElementById('toc-links');

    h2Elements.forEach((h2, index) => {
        const link = document.createElement('a');
        link.href = `#section-${index + 1}`;
        link.className = 'bg-white px-4 py-2 rounded-md shadow text-sm hover:bg-black hover:text-white';
        link.textContent = `${index + 1}. ${h2.textContent}`;

        tocLinksContainer.appendChild(link);

        h2.id = `section-${index + 1}`;
    });

</script>
{% endblock extra_js %}