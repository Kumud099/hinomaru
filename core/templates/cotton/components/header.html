<!-- HEADER -->
{% load static %}

<div
  id="loading-screen"
  style="
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgb(34, 34, 34);
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 24px;
    font-weight: bold;
    pointer-events: none; /* Allows interaction with scrolling */
  "
>
  <span
    id="loading-text"
    style="
      animation: fadeIn 1s ease-in-out, pulse 1.5s infinite ease-in-out;
    "
  >
    Loading...
  </span>
</div>

<!--animation for loading-->
<style>
  /* Fade in animation */
  @keyframes fadeIn {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  /* Pulsing text animation */
  @keyframes pulse {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }

  /* Ensure scrollbar and touch scrolling are enabled */
  html, body {
    overflow: auto !important; /* Ensures scrolling is available */
    height: 100%; /* Prevents unwanted clipping */
  }

  /* Allow scrolling while loading screen is visible */
  #loading-screen {
    pointer-events: none; /* Enables interaction with the page */
  }
</style>


<!-- The content wrapper, which will be shown only after the page is fully loaded -->
<div id="content-wrapper" style="display: none;">
<section class="font-Grotesk scrollbar-hide hide-until-loaded" id="hero">
  <div class="relative flex items-center justify-center min-h-screen">
    <!-- Video Background -->
    <video
      id="videoContainer1"
      autoplay
      loop
      muted
      playsinline
      webkit-playsinline
      preload="auto"
      style="width: 100%; height: auto"
      class="absolute z-0 object-cover w-auto min-w-full min-h-full max-w-none"
    >
      <source src="{% static 'videos/bg_h264.mp4' %}" type="video/mp4" />
      Your browser does not support the video tag.
    </video>

    <!-- Text Content -->
    <div
      id="header"
      class="absolute inset-0 z-30 flex items-center justify-center px-6 text-center text-white mt-28 sm:px-8 lg:px-16"
    >
      <div class="space-y-8 lg:max-w-[70%] max-w-[90%]">
        <span
          class="text-3xl font-bold leading-tight text-center text-transparent cursor-pointer bg-gradient-to-r from-red-500 to-orange-200 bg-clip-text hover-effect sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl reveal"
          style="text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.3)"
          id="first-span"
          >Innovative Solutions In Webscale Technology</span
        >

        <p
          class="text-[14px] hidden sm:block md:text-[20px] cursor-pointer lg:text-[20px] [text-shadow:1px_2px_2px_black] max-w-[70%] font-bold reveal text-center mx-auto"
        >
          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
          eiusmod. Lorem ipsum dolor sit amet consectetur adipiscing elit, sed
          do eiusmod. Lorem ipsum dolor sit amet consectetur adipiscing elit,
          sed do eiusmod.
        </p>
      </div>
    </div>
  </div>
</section>
<script>
// Wait for everything to load before showing the content
  window.addEventListener("load", function () {
    setTimeout(function () {
      // Hide the loading screen
      document.getElementById("loading-screen").style.display = "none";

      // Show navbar and content
      document.getElementById("navbar").style.display = "block";
      document.getElementById("content-wrapper").style.display = "block";

      // ðŸ”¥ RESTART GSAP ANIMATION AFTER LOADING SCREEN
      startGSAPAnimation();
    }, 1000); // 1 second delay
  });
//logic for the animation of services cards section 
  function startGSAPAnimation() {
    if (window.matchMedia("(min-width: 1024px)").matches) {
      gsap.registerPlugin(ScrollTrigger);

      // Ensure GSAP starts fresh
      gsap.killTweensOf(".card"); // ðŸ”¥ Remove any previous animations
      gsap.set(".card", { clearProps: "all" }); // Reset styles

      const timeline = gsap.timeline({
        scrollTrigger: {
          trigger: "#services",
          start: "top top",
          end: "+=1000",
          scrub: true,
          pin: true,
        },
      });

      gsap.utils.toArray(".card").forEach((card, index) => {
        timeline.from(card, {
          x: 200,
          opacity: 0,
          duration: 1,
          delay: index * 0.5,
        });
      });
    }
  }
</script>
